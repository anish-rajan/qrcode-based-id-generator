from fpdf import FPDF

# data = (
#     ("First name", "Last name", "Age", "City"),
#     ("Jules", "Smith", "34", "San Juan"),
#     ("Mary", "Ramos", "45", "Orlando"),
#     ("Carlson", "Banks", "19", "Los Angeles"),
#     ("Lucas", "Cimon", "31", "Saint-Mahturin-sur-Loire"),
# )

data = {
            "i": "PSA",
            "d": "2022-09-6",
            # "img": "h'52494646B00100005745425056503820A4010000300B009D012A2D003A003F1178B3532C2724A2AD566A4980220969001363CDFDAEB264156FA14EADD91927F3FBF5CA5ED9A12C659102FD59D969F22C09B013A25F52A3D0513DB76FE9E11C9E135B0D37A6BE47884C245EDA9926490AA765A58D120000FC3B347BD1DD693DF3E7D53F9D1A0C91834889DF8C8CBD92EEBA140417033DB23E928F4F38AF5C0576F768C2AFC25D439FFBBC2E39C9B9AFE4CD8F24606155412702532C45D15D5357329A4792BA4DB8346114C087E046FD9DBEE82EB36648CDB32ACDD14F946F56F67563D363A7E953C461015DB97268971707ABD6D5B8A5AE8C5D273A1A88AAE3CA55F4061D701AB939C3825FEB4972AFA65A593277165D30FD3DFA4CA83DF998CCDF806D5420550ED57BE6F865BBE8FFF2F93174B258C4B76BB0CC144A2793C12F94869BD2079463172B7ABE08035C0882F6F7124F825A45550005D1BD2C992821CB820FE8032764609BAF9F8B0029162C97B9F6BAF67036137B7587B100B83CAFF227807E49E883894E9459A400D5164C61D87DCCE1508F3E9A1C9D4C4785F37FE8999799B62E7FE6B1C7E06B7C3AACA19C70E840B0000000",
            # "sb": {
            #     "s": "{gender}",
            #     "PCN": "{postalCode}",
            #     "ln": "{lastname}",
            #     "POB": "{addressLine1}",
            #     "sf": "{suffix}",
            #     "DOB": "{dateOfBirth}",
            #     "fn": "{firstname}",
            #     "mn": "{middlename}",
            #     "BF": "{BF}"
            # }
        }

pdf = FPDF()
pdf.add_page()
pdf.set_font("Times", size=10)
line_height = pdf.font_size * 2.5
col_width = pdf.epw / 8  # distribute content evenly
for row in data:
    pdf.multi_cell(col_width, line_height, row, border=1,
        new_x="RIGHT", new_y="TOP", max_line_height=pdf.font_size)
    pdf.multi_cell(col_width, line_height, data[row], border=1,
            new_x="RIGHT", new_y="TOP", max_line_height=pdf.font_size)
    pdf.ln(line_height)

data = "h'52494646B00100005745425056503820A4010000300B009D012A2D003A003F1178B3532C2724A2AD566A4980220969001363CDFDAEB264156FA14EADD91927F3FBF5CA5ED9A12C659102FD59D969F22C09B013A25F52A3D0513DB76FE9E11C9E135B0D37A6BE47884C245EDA9926490AA765A58D120000FC3B347BD1DD693DF3E7D53F9D1A0C91834889DF8C8CBD92EEBA140417033DB23E928F4F38AF5C0576F768C2AFC25D439FFBBC2E39C9B9AFE4CD8F24606155412702532C45D15D5357329A4792BA4DB8346114C087E046FD9DBEE82EB36648CDB32ACDD14F946F56F67563D363A7E953C461015DB97268971707ABD6D5B8A5AE8C5D273A1A88AAE3CA55F4061D701AB939C3825FEB4972AFA65A593277165D30FD3DFA4CA83DF998CCDF806D5420550ED57BE6F865BBE8FFF2F93174B258C4B76BB0CC144A2793C12F94869BD2079463172B7ABE08035C0882F6F7124F825A45550005D1BD2C992821CB820FE8032764609BAF9F8B0029162C97B9F6BAF67036137B7587B100B83CAFF227807E49E883894E9459A400D5164C61D87DCCE1508F3E9A1C9D4C4785F37FE8999799B62E7FE6B1C7E06B7C3AACA19C70E840B0000000"
data = bytes.fromhex(data[2:])
with open('image.png', 'wb') as file:
    file.write(data)

pdf.image('image.png', x=20, y=60)
pdf.output('table_with_cells.pdf')
